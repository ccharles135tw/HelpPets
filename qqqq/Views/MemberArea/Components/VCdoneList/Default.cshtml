@model IEnumerable<qqqq.Models.OrderDetail>


<h3 class="h5 mb-4 text-center">詳細訂單內容</h3>
<div class="table-wrap">
    <table class="table">
        <thead class="thead-primary">
            <tr>
                <th>序</th>
                <th>產品照片</th>
                <th>商品名稱</th>
                @*<th>&nbsp;</th>*@
                <th>單價</th>
                <th>數量</th>
                <th>總價</th>
                <th>&nbsp;</th>
                <th>&nbsp;</th>
                <th>&nbsp;</th>

            </tr>
        </thead>
        <tbody>
            @{ 我救浪Context db = new 我救浪Context();
                int count = 0;
                foreach(var item in Model){
                    count++;
                        <tr class="alert" role="alert">

                            <td>
                                @count

                            </td>

                            <td>
                                <img src="~/css_Q/Images/bg_1.jpg" style="width:60px;height:60px;" />

                            </td>
                            <td>
                                <div class="email">
                                    <span>@item.Product.ProductName </span>
                                    <span>@item.Product.Description</span>
                                </div>
                            </td>
                            @*<td>星等</td>*@
                            <td>   @(String.Format("{0:$#,0}", item.UnitPrice))</td>
                            <td class="quantity">
                                <div class="input-group">
                                    @item.Quantity
                                    @*<input type="text" name="quantity" class="quantity form-control input-number" value="2" min="1" max="100">*@
                                </div>
                            </td>
                            @{
                                decimal totalPrice = 0;
                                var totalList = db.OrderDetails.Where(x => x.ProductId == item.ProductId && x.OrderId == item.OrderId).Select(y => new { total = y.UnitPrice * y.Quantity }).ToList();
                                foreach (var i in totalList)
                                {
                                    totalPrice += (decimal)i.total;
                                }
                            }
                        <td> @(String.Format("{0:$#,0}", totalPrice))</td>

                            <td>
                                <div>
                                    <button class="close" type="button" style="color:gray" id="list" data-toggle="modal" data-target="#myModal">
                                        <span aria-hidden="true"><i class="fa-solid fa-list"></i></span>
                                        <span>產品評論</span>
                                    </button>
                                </div>
                            </td>

                        </tr>
                    } }
            <!--=========================================================================================-->



        </tbody>
    </table>
    <!-- The Modal -->
    <div class="modal fade" id="myModal">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">商品評論</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal body -->
                <div class="modal-body">
                    <textarea placeholder="請在此區 評論商品" maxlength="100"></textarea>
                </div>

                <!-- Modal footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" id="sendee">送出</button>
                </div>

            </div>
        </div>
    </div>
</div>
<button id="btn1">d111111</button>
<button id="btn2">d111111</button>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script>
    $("#btn1").on("click", function () { alert("Test") })
    let b = document.querySelector("#btn2");
    b.addEventListener("click", () => { alert("Test") })
</script>